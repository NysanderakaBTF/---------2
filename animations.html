<!DOCTYPE html>
<html lang="ru" xmlns="http://www.w3.org/1999/html">
    <!--TODO:
    ссылки на все страницы продукции ( можно частично сократить)
    О нас в кратком виде добавить на главную
    
    -->

<head>
    <!--basic configuration-->
    <meta charset="UTF-8">
    <meta name="author" content="Григорий Резников">
    <meta name="description" content="Сайт Могилевской Шоколадной Фабрики им Григория">
    <title>Шоколадная Фабрика Могилева</title>
    <link rel="icon" href="images/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@1,300&display=swap" rel="stylesheet">
</head>

<body>
    
    <main>
            <div id="delete_button" class="delete_button bu">
                <a href="#">Delete 1 elem</a> 
            </div>

            <div id="shuffle_button" class="shuffle_button bu">
                <a href="#">Change elem</a> 
            </div>

            <div id="b3" class="b3 bu">
                <a href="#">task 2</a> 
            </div>

            <div class="b4 bu">
                <a href="#">Button 4</a> 
            </div>
            <div class="notifcontainer">
                <div  class="notif">
                    <div id="cir" class="notif_button"></div>
                        <div id="nl" class="items">
                            <style>
                                .close {
                                    position: absolute;
                                    font-size: 16px;
                                    top: 0;
                                    color: rgb(255, 255, 255);
                                    right: 0;
                                    display: block;
                                    width: 24px;
                                    height: 24px;
                                    border: none;
                                    background: transparent;
                                    cursor: pointer;
                                }
                            </style>
                        
                        </div>
                </div>    
            </div>
            <script>

            </script>
            <div class="cart" id="cart">
            </div>
            <div class="cart">
                <div id="s"> </div>
                <div id="r"></div>
                <div id="sorting_met1">Sorted1: </div>
                <div id="sorting_met2">Sorted2: </div>
            </div>
            <script>
                let nc = 1;
                function add_notif(kol){
                    document.getElementById("cir").innerText=kol;
                    document.getElementById("nl").innerHTML+=`<a href="#">msg ${kol} <div class="close">X</div> </a>`;
                }

                let msg = setInterval(()=>{add_notif(nc); nc++;}, 3000);
                document.getElementById("cir").addEventListener('click',(ev)=>{
                    clearInterval(msg);
                    setTimeout(()=>{msg = setInterval(()=>{add_notif(nc); nc++;}, 3000)},10000);
                });
                let notif = document.getElementById("nl");
                notif.onclick = function (ev){
                    let target = ev.target
                    if (target.className ==="close"){
                        target.parentNode.remove()
                        document.getElementById("cir").innerText=toString(--nc);
                    }
                }








                let arr=[
                    {
                        name: "AAA",
                        description: " HUGIUPgpui minim ipsum commodo.",
                        price: 14
                    },
                    {
                        name: "BBB",
                        description: " HUGIUPgpui minim ipsum commodo.",
                        price: 14
                    },
                    {
                        name: "CCC",
                        description: " HUGIUPgpui minim ipsum commodo.",
                        price: 14
                    },
                    {
                        name: "DDD",
                        description: " HUGIUPgpui minim ipsum commodo.",
                        price: 14
                    },
                    {
                        name: "EEE",
                        description: " HUGIUPgpui minim ipsum commodo.",
                        price: 14
                    }
                ]
                function redr(){
                    s=" "
                    for (let i = 0; i < arr.length; i++) {
                        s+=`<div class="elem">
                                <p>Name: ${arr[i].name}</p>
                                <p>Description: ${arr[i].description}</p>
                                <p>Price: ${arr[i].price}</p>                            
                            </div>
                            `                    
                    }
                    document.getElementById("cart").innerHTML=s;
                }
                redr();
                document.getElementById("delete_button").addEventListener('click',(ev)=>{
                    arr.shift();
                    redr();
                })
                document.getElementById("shuffle_button").addEventListener('click',(ev)=>{
                    let a = Math.floor(Math.random()*(arr.length));
                    let b = Math.floor(Math.random()*(arr.length));
                    let c = arr[b];
                    arr[b]=arr[a]
                    arr[a]=c;
                    redr();
                })



                function flit(arra, a, b){
                    if(Array.isArray(arra)){
                        return arra.filter((el) => {return el >= a && el <=b;});
                    }
                }
                let number_array = new Array();
                document.getElementById("b3").addEventListener('click',(ev)=>{
                    let a = Math.ceil(Math.random()*20)+4;
                    let s = " ";
                    for (let i = 0; i < a; i++) {
                        number_array.push(Math.ceil(Math.random()*10)); 
                    }
                    
                    let ne = flit(number_array,1,5);
                    
                    number_array.forEach(element => {
                      s=s + element + " ";
                    });
                    document.getElementById("s").innerText=s;
                    s = " ";
                    ne.forEach(element => {
                        s=s + element + " ";
                    });
                    document.getElementById("r").innerText=s; 

                    // sort
                    s=" "
                    number_array.sort((a,b)=>{return a<b ? -1 : a==b ? 0 : 1;});
                    number_array.forEach(element => {
                      s=s + element + " ";
                    });
                    document.getElementById("sorting_met1").innerText+=s;

                    s=" "
                    number_array.sort((a,b)=>{return a<b ? 1 : a==b ? 0 : -1;});
                    number_array.forEach(element => {
                      s=s + element + " ";
                    });
                    document.getElementById("sorting_met2").innerText+=s;

                });

            </script>
            <style>
                .cart{
                    display: flex;
                    flex-direction: column;
                    width: 100%;

                }
                .elem{
                    border-style: dotted;
                    border-width: 2px;
                    border-color: blueviolet;
                    display: flex;
                    flex-direction: row;
                    justify-content: space-between;
                    width: 100%;
                }
            </style>

    </main>
<!--мини навигация и контактная информация-->
    <footer>
        <nav>
            <ul>
                <li> <a href="#start">Наверх</a></li>
                <li> <a href="#whyitsgood">Польза шоколада</a></li>
                <li> <a href="#new-tech">Современные технологии</a></li>
                <li><a href="mailto:factory@example.by">Наша почта</a> </li> 
                <li> <a href="tel:+375222222222">По вопросам сотрудничества</a></li>
            </ul> 
        </nav>
        <address id="contact">
            Мы находимся по адресу:<br> 
            Республика Беларусь, город Могилев, Минское шоссе, д59
        </address>
        <p>&copy; Магілёўская фабрыка шакаладу 2022<br>Разработчик и дизайнер: Григорий Резников</p>
    </footer>
</body>

</html>